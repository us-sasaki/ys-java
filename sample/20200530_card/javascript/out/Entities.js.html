<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Entities.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Entities.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Entities クラス定義
 * Entities は複数の Entity をまとめる容器オブジェクトを表します。
 */
/*-------------------------
 * class def &amp; constructor
 */
var Entities = function() {

/*----------------
 * instance field
 */
	this.children = [];
	Entity.call(this);
	this.layout = new CardHandLayout();
	this.setSize(0, 0);
}
inherits(Entities, Entity);

/*------------------
 * instance methods
 */
	/**
	 * 子オブジェクトを追加します。子オブジェクトの親として自分を設定します。
	 */
	Entities.prototype.add = function(child) {
		if (this.children.indexOf(child) >= 0) {
			return;
		}
		child.setParent(this);
		this.children.push(child);
	}
	
	/**
	 * 指定された子オブジェクトを引きます。ひかれたオブジェクトはこの
	 * オブジェクトの要素でなくなります。(parent が null になります)
	 *
	 * @param		index	引くオブジェクトの番号(省略した場合、最後の要素)
	 */
	Entities.prototype.pull = function(index) {
		if (!index) index = this.children.length - 1;
		
		if (index &lt; 0 || index >= this.children.length)
			throw new Error("pull で指定された index が不正です:"+index);
		var child = this.children[index];
		this.children.splice(index, 1); // 削除
		child.setParent(null);
		return child;
	}
	
	// Override
	Entities.prototype.setDirection = function(direction) {
		this.direction = direction;
		this.children.forEach( function(child) {
			child.setDirection(direction);
		});
	}
	/**
	 * この Entities の位置、大きさを取得します。
	 *
	 * @return		{x: &lt;&lt;x座標>>, y: &lt;&lt;y座標>>, w: &lt;&lt;幅>>, h: &lt;&lt;高さ>>
	 */
	Entities.prototype.getRect = function() {
		var d = this.layout.layoutSize(this);
		
		return { x:this.x, y:this.y, w:d.w, h:d.h };
	}
	
	/**
	 * この Entity を描画します。
	 * このメソッドは親オブジェクトからのみ呼ばれます。
	 */
	Entities.prototype.draw = function(ctx) {
		this.layout.layout(this);
		this.children.forEach( function(child) {
			child.draw(ctx);
		});
	}

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Card.html">Card</a></li><li><a href="CardImageHolder.html">CardImageHolder</a></li><li><a href="Trick.html">Trick</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sun Jul 15 2018 12:02:21 GMT+0900 (東京 (標準時))
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
